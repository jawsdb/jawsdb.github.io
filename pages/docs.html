<!DOCTYPE html>
<html lang="en">
<head>
          <title>jawsDB - Documentation</title>
        <meta charset="utf-8" />
        <meta name="generator" content="Pelican" />


</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="https://jawsdb.com/">jawsDB</a></h1>
        </header><!-- /#banner -->
        <nav id="menu"><ul>
            <li class="active"><a href="https://jawsdb.com/pages/docs.html">Documentation</a></li>
            <li><a href="https://jawsdb.com/pages/home-page.html">Home page</a></li>
            <li><a href="https://jawsdb.com/pages/privacy.html">Privacy</a></li>
            <li><a href="https://jawsdb.com/pages/terms.html">Terms of Use</a></li>
            <li><a href="https://jawsdb.com/category/python.html">Python</a></li>
        </ul></nav><!-- /#menu -->
    <h1>Documentation</h1>
    

    <h2>Table of Contents</h2>
<ul>
<li><a href="#jawsdb">Welcome to JawsDB</a></li>
<li><a href="#mysql">MySQL</a></li>
<li><a href="#provisioning">Provisioning</a></li>
<li><a href="#plan-changes">Plan Changes</a></li>
<li><a href="#deprovisioning">Deprovisioning</a></li>
<li><a href="#sso-dashboard">SSO Dashboard</a></li>
<li><a href="#databites">Databites</a></li>
<li><a href="#server-metrics">Server Metrics</a></li>
<li><a href="#database-backups">Database Backups</a></li>
<li><a href="#manual-backups-and-migrations">Manual Backups and Migrations with <code>mysqldump</code></a></li>
<li><a href="#manual-backups">Manual Backups with <code>mysqldump</code></a></li>
<li><a href="#manual-migrations">Manual Migrations</a></li>
<li><a href="#faq">FAQ</a></li>
<li><a href="#support">Support</a></li>
</ul>
<p><a id="jawsdb"></a></p>
<h1><a href="#jawsdb">Welcome to JawsDB</a></h1>
<p>JawsDB is a Database-as-a-Service (DBaaS) provider supplying a fully functional, fully managed, relational database for use with your application. Rather than going through the hassle of hosting, configuring, patching, and managing a database, JawsDB provides one-click delivery and management of a relational database in the cloud.</p>
<p>JawsDB is easy to use and requires no custom coding or libraries to interact with it. Simply select a plan that meets your needs, and we will provide you with the hostname and credentials necessary to dive in and start swimming with the big fish.</p>
<p><a id="mysql"></a></p>
<h2><a href="#mysql">MySQL</a></h2>
<p>MySQL is the world’s most widely used open-source relational database and is trusted by companies such as Google, Facebook, Twitter, and Youtube. Its power, stability, security, and wealth of online documentation has cemented it as a premiere option for start-ups and established businesses alike.</p>
<p><a id="provisioning"></a></p>
<h2><a href="#provisioning">Provisioning</a></h2>
<p>JawsDB databases can be created via the <a href="https://jawsdb.com">JawsDB website</a> or via the <a href="https://dashboard.manifold.co">Manifold dashboard</a>. Both methods require a Manifold account, which you can sign up for free <a href="https://dashboard.manifold.co/register">here</a>.</p>
<p><a id="plan-changes"></a></p>
<h2><a href="#plan-changes">Plan Changes</a></h2>
<p>JawsDB provides situational support for automatic upgrades and downgrades between plans. See the below sections for when an up/downgrade may be possible. In all cases where automatic up/downgrading is allowed, your data should be preserved. However, it is always a good idea to backup your database before a plan change. See the section in this documentation entitled <a href="#manual-backups">Manual Backups with <code>mysqldump</code></a> for information on how to do this.</p>
<blockquote>
<p>Application owners should carefully manage the migration timing to ensure proper application function during the migration process.</p>
</blockquote>
<p>Depending on whether a desired plan is a single-tenant or multi-tenant (Shared) plan and whether the storage of the desired plan is greater or less than the current plan, a user may be able to change their plan automatically by following the relevant process flow of the platform where JawsDB was purchased.</p>
<blockquote>
<p>Plan changes can be made from your <a href="https://dashboard.manifold.co/">Manifold dashboard</a>. Click edit on the resource you'd like to change, select the new plan that you'd like to change to, and then confirm. If successful you will see a confirmation message.</p>
</blockquote>
<p>In order to tell whether an automatic plan-change is supported, please reference the table below keeping in mind the current plan and the desired plan.</p>
<table>
<thead>
<tr>
<th>PLAN</th>
<th style="text-align: center;">To Multi-tenant</th>
<th style="text-align: center;">To Single-tenant (storage &lt; source storage)</th>
<th style="text-align: center;">To Single-tenant (storage &gt;= source storage)</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>From Multi-tenant</strong></td>
<td style="text-align: center;"><strong>Automatic</strong></td>
<td style="text-align: center;">Manual</td>
<td style="text-align: center;">Manual</td>
</tr>
<tr>
<td><strong>From Single-tenant</strong></td>
<td style="text-align: center;">Manual</td>
<td style="text-align: center;">Manual</td>
<td style="text-align: center;"><strong>Automatic</strong></td>
</tr>
</tbody>
</table>
<p><a id="deprovisioning"></a></p>
<h2><a href="#deprovisioning">Deprovisioning</a></h2>
<p>JawsDB can be removed from your account by going to the <a href="https://dashboard.manifold.co/">Manifold dashboard</a> and clicking to edit a resource, then clicking "deprovision resource".</p>
<p><a id="sso-dashboard"></a></p>
<h2><a href="#sso-dashboard">SSO Dashboard</a></h2>
<p>JawsDB provides a Dashboard where users can view important information about their Database. This information includes:</p>
<ul>
<li>Connection String</li>
<li>Credentials</li>
<li>Server Status</li>
<li>Allocated Storage</li>
<li>Backup Window</li>
<li>Maintenance Window</li>
<li>Latest Restorable Time</li>
<li>SSL Information</li>
</ul>
<p>Users can reset their Database password from the Dashboard and they may also create, view, and delete Databites.</p>
<p><a id="databites"></a></p>
<h2><a href="#databites">Databites</a></h2>
<p>Once your database is listed with a status of 'AVAILABLE’, the dashboard will allow you to create Databites. As a simple, yet powerful reporting tool, Databites provide users the ability to run basic (read-only) SQL queries against their provisioned database and save those queries for later execution. Once a Databite is created, it is saved to your dashboard where it can be re-run, edited, shared publicly, or deleted with ease.</p>
<p>On your dashboard, under the section labeled 'Databites', select “Create New Databite”. This will direct your browser to the Databite page where custom queries can be entered into the editor which features SQL syntax highlighting. Clicking “Update” underneath the editor will execute the query against your database and return the result set in the same browser window in a tabular format.</p>
<p>Using the “Back” link will return you to the dashboard where your Databite will now be listed in the Databite section. Clicking on an existing Databite will redirect the browser to the Databite page and re-execute the query.</p>
<blockquote>
<p>For security reasons, Databites are read-only, i.e. they do not support statements that create database objects or that alter data in your database. Think of Databites as a way to create windows into the most important information stored in your database.</p>
</blockquote>
<p><a id="server-metrics"></a></p>
<h2><a href="#server-metrics">Server Metrics</a></h2>
<p>Users of single-tenant database plans (currently: Whitetip, Thresher, Tiger, Hammerhead, and Goblin), have access to graphs of important database metrics for CPU, storage, and IO. They can be accessed through the dashboard on the 'Server Status' panel.</p>
<p>The metric data points are spaced 5-minutes apart and can be viewed for periods of:</p>
<ul>
<li>The last hour</li>
<li>The last 3 hours</li>
<li>The last day</li>
<li>The last 3 days</li>
<li>The last week</li>
</ul>
<p>Below is a brief description of the included metrics.</p>
<ul>
<li>CPU Utilization - The percentage of the CPU in use. CPU usage in database applications is typically low. A consistently high value here may indicate slow queries and the need to index tables. If indexes are already optimized, the CPU on this plan may simply be underpowered for your application. A plan upgrade should be considered.</li>
<li>Read IOPS - The average number of Read-specific IO operations per second to disk. A high value here indicates there is not enough RAM available on this plan to store the application's frequently requested data in memory.</li>
<li>Write IOPS - The average number of Write-specific IO operations per second to disk.</li>
<li>Free Storage - The free storage in GB for the server.</li>
<li>Read Latency - The average time taken per read-specific IO operation on disk.</li>
<li>Write Latency - The average time taken per write-specific IO operation on disk.</li>
<li>Disk Queue Depth - The average number of outstanding IOs (read/write requests) waiting to access the disk.</li>
<li>Network Transmit Throughput - The outgoing network traffic on the server in MB.</li>
<li>Network Receive Throughput - The incoming network traffic on the server in MB.</li>
</ul>
<p>Using these metrics can be the first step in troubleshooting performance issues and traffic spikes. While a plan upgrade will usually solve issues with poor performance, a metric performing poorly may not necessarily indicate a need to upgrade plan. Instead, performance issues can often be fixed by better indexing or optimizing queries or making modification to database structure.</p>
<p><a id="database-backups"></a></p>
<h2><a href="#database-backups">Database Backups</a></h2>
<p>JawsDB is based on Amazon's AWS cloud infrastructure. Because of this, our internal backups are in an Amazon proprietary format (similar to VMWare snapshots) and cannot be downloaded. These backups are taken once per day during your server's backup window and are stored for a fixed length of time while the service is active depending on the plan purchased.</p>
<p>Users who have purchased a single-tenant plan (Whitetip and higher) have their snapshots listed on their JawsDB dashboard. The Snapshot ID listed there, along with the Password displayed on that same dashboard page are all that is needed to restore their database to the time when the snapshot was taken. The snapshot can be restored onto that same single-tenant plan, OR another purchased single-tenant plan. The requirement is that whichever JawsDB plan is used to host the restored snapshot must be of equal or greater storage capacity than the snapshot.</p>
<blockquote>
<p>Warning: Restoring a snapshot replaces the host plan's server entirely. Including its own snapshots.</p>
</blockquote>
<p>Example 1: A user purchases a Whitetip instance and needs to revert to a snapshot. The user takes the Snapshot ID of the snapshot they wish to restore to and places it in the <code>Snapshot ID</code> field of the form labeled <code>Restore from Snapshot</code> in their JawsDB Dashboard. They also take the password from their dashboard and place it in that same form's <code>Password</code> field. After clicking the <code>Restore</code> button, the Snapshot is restored onto a 2nd new single-tenant host. After the restore is complete, the user's current server is replaced entirely by the server made from the snapshot. The snapshots originally listed on the Dashboard page are now replaced by those of the newly created server.</p>
<p>Example 2: A user purchases a Thresher instance and wishes to restore a snapshot but without replacing their current Thresher instance. The user purchases a second plan of at least Thresher value (we'll use Tiger for this illustration), and notes the desired snapshot's <code>Snapshot ID</code> along with the <code>Password</code> of the first Thresher server. The user then navigates to the JawsDB Dashboard of the new blank Tiger server, and enters the noted <code>Snapshot ID</code> and <code>Password</code> into the relevant fields of the form labeled <code>Restore from Snapshot</code> and hits the <code>Restore</code> button. The snapshot is then restored onto a 3rd new single-tenant host. After the restore is complete, the user's newly created Tiger instance is replaced entirely by the server made from the snapshot. The snapshots originally listed on the Tiger plan's Dashboard page are now replaced by those of the newly created server.</p>
<p>Customers are also free to take and keep their own backups using <code>mysqldump</code> or some other service or utility.</p>
<p>Below we provide a quick primer on how to use <code>mysqldump</code> to create and restore backups.</p>
<p><a id="manual-backups-and-migrations"></a></p>
<h2><a href="#manual-backups-and-migrations">Manual Backups and Migrations with <code>mysqldump</code></a></h2>
<p><code>mysqldump</code> is a powerful client utility packaged with the MySQL clients available on the <a href="https://dev.mysql.com/downloads/">MySQL downloads page</a>. With this utility, users can backup their database into flat files as well as restore those backups to any MySQL or compatible server of their choice.</p>
<p>In order to complete either operation, the connection credentials and information of the relevant server(s) must be know in advance.</p>
<p>Connection strings provided by JawsDB contain all of the relevant info in the following format:</p>
<div class="highlight"><pre><span></span><code><span class="nl">mysql</span><span class="p">:</span><span class="o">//</span><span class="nl">username</span><span class="p">:</span><span class="n">password</span><span class="nv">@hostname</span><span class="err">:</span><span class="n">port</span><span class="o">/</span><span class="k">database</span><span class="w"></span>
</code></pre></div>

<p><code>username</code>, <code>password</code>, <code>hostname</code>, <code>port</code>, and <code>database</code> will be referenced in the following sections.</p>
<blockquote>
<p>The <code>mysqldump</code> tutorials below are simplistic and general. The full range of options and configurations that <code>mysqldump</code> supports can be seen <a href="https://dev.mysql.com/doc/refman/5.7/en/mysqldump.html">here</a> and in the tool's own <code>man</code> pages.</p>
</blockquote>
<p><a id="manual-backups"></a></p>
<h4><a href="#manual-backups">Manual Backups with <code>mysqldump</code></a></h4>
<p>The following command will backup the specified database into a local file called <code>backup.sql</code></p>
<div class="highlight"><pre><span></span><code>mysqldump -h hostname -u username -ppassword database &gt; backup.sql
</code></pre></div>

<blockquote>
<p>Note There is no space between the <code>-p</code> flag and <code>password</code></p>
<p>If using MySQL v.8, you may need to add --column-statistics=0 to your mysqldump command</p>
</blockquote>
<p><a id="manual-migrations"></a></p>
<h4><a href="#manual-migrations">Manual Migrations</a></h4>
<p>Backup files created with <code>mysqldump</code> can be loaded onto a target server the way any SQL file would be loaded. Below is a way to do this with the <code>mysql</code> command-line utlity.</p>
<div class="highlight"><pre><span></span><code>mysql -h hostname -u username -ppassword database &lt; backup.sql
</code></pre></div>

<blockquote>
<p>Note again how there is no space between the <code>-p</code> flag and <code>password</code></p>
<p>If receiving errors about <code>SUPER</code> permissions, try removing any clauses that mention a <code>DEFINER</code> or any unnecessary <code>@@</code> variables from the backup file. Some suggestions <a href="https://stackoverflow.com/questions/9446783/remove-definer-clause-from-mysql-dumps">here</a></p>
</blockquote>
<p><a id="faq"></a></p>
<h2><a href="#faq">FAQ</a></h2>
<h3>I am unable to insert records into my database. What gives?</h3>
<p>If you are on one of JawsDB’s shared plans, you may have breached the database size allotted via your plan. When a database grows larger than the plan allows, INSERT privileges are revoked on the database user until the database is brought back into compliance. SELECT, UPDATE, and DELETE privileges are still available during this time. Once the database size is reduced back under the maximum allowed size, the INSERT privilege will be granted back.</p>
<p>The following can be run against the database or placed into a databite in order to see current database size in MB and whether the account currently has INSERT privileges.</p>
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"></span>
<span class="w">    </span><span class="n">s</span><span class="p">.</span><span class="k">schema_name</span><span class="w"></span>
<span class="w">    </span><span class="p">,</span><span class="n">sp</span><span class="p">.</span><span class="n">grantee</span><span class="w"> </span><span class="k">user</span><span class="w"></span>
<span class="w">    </span><span class="p">,</span><span class="k">cast</span><span class="p">(</span><span class="n">round</span><span class="p">(</span><span class="k">sum</span><span class="p">(</span><span class="k">coalesce</span><span class="p">(</span><span class="n">t</span><span class="p">.</span><span class="n">data_length</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">t</span><span class="p">.</span><span class="n">index_length</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">))</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">1024</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">1024</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nb">char</span><span class="p">)</span><span class="w"> </span><span class="n">db_size_mb</span><span class="w"></span>
<span class="w">    </span><span class="p">,</span><span class="n">sp</span><span class="p">.</span><span class="n">has_insert</span><span class="w"></span>
<span class="k">from</span><span class="w"></span>
<span class="w">    </span><span class="n">information_schema</span><span class="p">.</span><span class="n">schemata</span><span class="w"> </span><span class="n">s</span><span class="w"></span>
<span class="w">    </span><span class="k">inner</span><span class="w"> </span><span class="k">join</span><span class="w"></span>
<span class="w">    </span><span class="n">information_schema</span><span class="p">.</span><span class="n">tables</span><span class="w"> </span><span class="n">t</span><span class="w"> </span><span class="k">on</span><span class="w"> </span><span class="n">s</span><span class="p">.</span><span class="k">schema_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">t</span><span class="p">.</span><span class="n">table_schema</span><span class="w"></span>
<span class="w">    </span><span class="k">inner</span><span class="w"> </span><span class="k">join</span><span class="w"> </span><span class="p">(</span><span class="w"></span>
<span class="w">        </span><span class="k">select</span><span class="w"></span>
<span class="w">            </span><span class="n">spi</span><span class="p">.</span><span class="n">grantee</span><span class="w"></span>
<span class="w">            </span><span class="p">,</span><span class="n">spi</span><span class="p">.</span><span class="n">table_schema</span><span class="w"></span>
<span class="w">            </span><span class="p">,</span><span class="k">max</span><span class="p">(</span><span class="w"></span>
<span class="w">                </span><span class="k">case</span><span class="w"></span>
<span class="w">                    </span><span class="k">when</span><span class="w"> </span><span class="n">spi</span><span class="p">.</span><span class="n">privilege_type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;INSERT&#39;</span><span class="w"> </span><span class="k">then</span><span class="w"> </span><span class="mi">1</span><span class="w"></span>
<span class="w">                    </span><span class="k">else</span><span class="w"> </span><span class="mi">0</span><span class="w"></span>
<span class="w">                </span><span class="k">end</span><span class="w"></span>
<span class="w">            </span><span class="p">)</span><span class="w"> </span><span class="n">has_insert</span><span class="w"></span>
<span class="w">        </span><span class="k">from</span><span class="w"></span>
<span class="w">            </span><span class="n">information_schema</span><span class="p">.</span><span class="n">schema_privileges</span><span class="w"> </span><span class="n">spi</span><span class="w"></span>
<span class="w">        </span><span class="k">group</span><span class="w"> </span><span class="k">by</span><span class="w"></span>
<span class="w">            </span><span class="n">spi</span><span class="p">.</span><span class="n">grantee</span><span class="w"></span>
<span class="w">            </span><span class="p">,</span><span class="n">spi</span><span class="p">.</span><span class="n">table_schema</span><span class="w"></span>
<span class="w">    </span><span class="p">)</span><span class="w"> </span><span class="n">sp</span><span class="w"> </span><span class="k">on</span><span class="w"> </span><span class="n">s</span><span class="p">.</span><span class="k">schema_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">sp</span><span class="p">.</span><span class="n">table_schema</span><span class="w"></span>
<span class="k">group</span><span class="w"> </span><span class="k">by</span><span class="w"></span>
<span class="w">    </span><span class="n">s</span><span class="p">.</span><span class="k">schema_name</span><span class="w"></span>
<span class="w">    </span><span class="p">,</span><span class="n">sp</span><span class="p">.</span><span class="n">grantee</span><span class="w"></span>
<span class="w">    </span><span class="p">,</span><span class="n">sp</span><span class="p">.</span><span class="n">has_insert</span><span class="p">;</span><span class="w"></span>
</code></pre></div>

<h3>I am getting an error saying I have exceeded the 'max_questions’ resource. What is that?</h3>
<p>The 'max_questions’ value is a limit that is placed on shared plan accounts to help preserve computing power for other shared plan users on the same server. It is essentially a limit on the number of queries that can be executed from that account in an hour. After 1 hour of reaching the limit, the limit will be reset and queries can again be executed.</p>
<blockquote>
<p>HINT: Cached queries do not count against the query limit of 'max_questions’. Taking advantage of the cache is a good way around this limit.</p>
</blockquote>
<table>
<thead>
<tr>
<th>Plan</th>
<th style="text-align: center;">Max Questions</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Single-tenant plans</strong></td>
<td style="text-align: center;">No Limit</td>
</tr>
<tr>
<td><strong>Kitefin</strong></td>
<td style="text-align: center;">3,600/hr</td>
</tr>
<tr>
<td><strong>Leopard</strong></td>
<td style="text-align: center;">18,000/hr</td>
</tr>
<tr>
<td><strong>Blacktip</strong></td>
<td style="text-align: center;">36,000/hr</td>
</tr>
</tbody>
</table>
<h3>How do I access my database backups?</h3>
<p>JawsDB backups are in an Amazon-proprietary snapshot format and must be restored by the JawsDB team. Please see the section entitled <a href="#database-backups">Database Backups</a> for more information.</p>
<h3>Why do I get an error when attempting to change my plan?</h3>
<p>In some specific situations, changing plan requires a manual migration. Please check the section entitled <a href="#plan-changes">Plan Changes</a> to find out whether this applies to your particular situation.</p>
<h3>Does JawsDB support Encryption at Rest?</h3>
<p>Encryption at Rest (EAR) is a new feature applying transparent AES-256 encryption to the underlying data storage of a JawsDB database and is available on a subset of our plans. Check the desired plan's description to see if EAR is supported.</p>
<p><a id="support"></a></p>
<h2><a href="#support">Support</a></h2>
<p>Account support and runtime issues should be sent to JawsDB's support <a href="mailto:support@jawsdb.com">email address</a>.</p>
<p>For news, non-critical questions, and feedback, check out the @jawsdb <a href="https://twitter.com/jawsdb">Twitter account</a></p>

        <p>
        Last updated: Thu 15 March 2018
        </p>
        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a href="https://getpelican.com/">Pelican</a>,
                which takes great advantage of <a href="https://www.python.org/">Python</a>.
                </address><!-- /#about -->
        </footer><!-- /#contentinfo -->
</body>
</html>